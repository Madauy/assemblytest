DATA:
  arr 7
      12
      4
      0
  len 4
  one 1
  temp 0
  min_pos 0
  max_pos 0

CODE:
  MOV B, arr    ; B = dirección base del arreglo
  MOV A, (len)  ; A = longitud del arreglo

MIN_MAX_SORT:
  CMP A, 0
  JLE END_SORT

  PUSH A
  PUSH B

  MOV A, (B)    ; Guardar mínimo en A
  MOV (min_pos), B
  MOV B, (B)    ; Guardar máximo en B
  MOV (max_pos), B
  MOV A, (len)  ; Preparar el contador del bucle
  MOV (temp), A

MIN_LOOP:
  MOV A, (temp)
  SUB A, (one)
  MOV (temp), A
  CMP A, 0
  JLE END_MIN_LOOP

  ; Comparar y actualizar mínimo
  MOV A, (B)
  CMP A, (min_pos)
  JGE UPDATE_MIN
  JMP NEXT_ITERATION_MIN_LOOP

UPDATE_MIN:
  MOV (min_pos), B
  JMP NEXT_ITERATION_MIN_LOOP

NEXT_ITERATION_MIN_LOOP:
  INC B
  JMP MIN_LOOP

END_MIN_LOOP:
  ; Swap min and first element
  MOV A, (arr)
  MOV B, (min_pos)
  MOV (temp), A
  MOV A, (B)
  MOV (min_pos), (temp)
  MOV (arr), A

  ; Swap max and last element
  MOV B, (max_pos)
  MOV A, (len)
  SUB A, (one)
  ADD A, (arr)
  MOV (temp), A
  MOV A, (B)
  MOV (max_pos), (temp)
  MOV (temp), A

  POP B
  POP A
  SUB A, (one)
  MOV (len), A
  INC B
  JMP MIN_MAX_SORT

END_SORT:
